<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <style>
      .ans {
        color: red !important;
        border-bottom: 2px solid grey;

        margin-bottom: 10px;
      }
    </style>
  </head>
  <body
    bgcolor="#ffffff"
    leftmargin="5"
    topmargin="5"
    rightmargin="5"
    bottommargin="5"
  ><div>2.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;2.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26576;&#21338;&#29289;&#39302;&#26368;&#22810;&#21487;&#23481;&#32435;500&#20154;&#21516;&#26102;&#21442;&#35266;&#65292;&#26377;&#19968;&#20010;&#20837;&#21475;,&#19968;&#20010;&#20986;&#21475;&#65292;&#20837;&#21475;&#19968;&#27425;&#20165;&#20801;&#35768;&#19968;&#20010;&#20154;&#36890;&#36807;&#65292;&#20986;&#21475;&#19968;&#27425;&#20801;&#35768;&#19977;&#20010;&#20154;&#36890;&#36807;&#12290;&#21442;&#35266;&#32773;&#30340;&#27963;&#21160;&#25551;&#36848;&#22914;&#19979;&#65306; </font></div><div><font size=3>cobegin </font></div><div><font size=3>&#21442;&#35266;&#32773;&#36827;&#31243;i&#65306; </font></div><div><font size=3>{ &#8230; &#36827;&#38376;&#65307;</font></div><div><font size=3> &#8230; &#21442;&#35266;&#65307;</font></div><div><font size=3> &#8230; &#20986;&#38376;&#65307; &#8230; } </font></div><div><font size=3>coend</font></div><div align=justify><font size=3>&#35831;&#28155;&#21152;&#24517;&#35201;&#30340;&#20449;&#21495;&#37327;&#21644;P&#65292;V&#25805;&#20316;&#65292;&#24050;&#23454;&#29616;&#19978;&#38754;&#30340;&#20114;&#26021;&#21516;&#27493;&#12290;&#35201;&#27714;&#20889;&#20986;&#23436;&#25972;&#36807;&#31243;&#65292;&#35828;&#26126;&#20449;&#21495;&#37327;&#21547;&#20041;&#21644;&#36171;&#21021;&#20540;&#12290;</font></div><br><div class='ans'><div><font size=3>&#23450;&#20041;&#20004;&#20010;&#20449;&#21495;&#37327;&#65306;(5&#20998;)</font></div><div><font size=3> Semaphore empty=500&#65307; //&#21338;&#29289;&#39302;&#21487;&#20197;&#23481;&#32435;&#30340;&#26368;&#22810;&#20154;&#25968; </font></div><div><font size=3>Semaphore mutex&#65292;mutex2=1,3&#65307; //&#29992;&#20110;&#20837;&#21475;&#36164;&#28304;&#30340;&#25511;&#21046; </font></div><div><font size=3>cobegin </font></div><div><font size=3>&#21442;&#35266;&#32773;&#36827;&#31243;i&#65306; (10&#20998;)</font></div><div><font size=3>{ ... P(empty)&#65307; </font></div><div><font size=3>P(mutex)&#65307; </font></div><div><font size=3>&#36827;&#38376;&#65307; </font></div><div><font size=3>V(mutex)&#65307;</font></div><div><font size=3> &#21442;&#35266;&#65307;</font></div><div><font size=3> P(mutex2)&#65307; </font></div><div><font size=3>&#20986;&#38376;&#65307; </font></div><div><font size=3>V(mutex2)&#65307; </font></div><div><font size=3>V(empty)&#65307;</font></div><div><font size=3> ... }</font></div><div align=justify><font size=3> coend</font></div></div><div>4.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;4.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26576;&#21338;&#29289;&#39302;&#26368;&#22810;&#21487;&#23481;&#32435;500&#20154;&#21516;&#26102;&#21442;&#35266;&#65292;&#26377;&#19968;&#20010;&#20986;&#20837;&#21475;&#65292;&#35813;&#20986;&#20837;&#21475;&#19968;&#27425;&#20165;&#20801;&#35768;&#19968;&#20010;&#20154;&#36890;&#36807;&#12290;&#21442;&#35266;&#32773;&#30340;&#27963;&#21160;&#25551;&#36848;&#22914;&#19979;&#65306; </font></div><div><font size=3>cobegin </font></div><div><font size=3>&#21442;&#35266;&#32773;&#36827;&#31243;i&#65306; </font></div><div><font size=3>{ &#8230; &#36827;&#38376;&#65307;</font></div><div><font size=3> &#8230; &#21442;&#35266;&#65307;</font></div><div><font size=3> &#8230; &#20986;&#38376;&#65307; &#8230; } </font></div><div><font size=3>coend</font></div><div align=justify><font size=3>&#35831;&#28155;&#21152;&#24517;&#35201;&#30340;&#20449;&#21495;&#37327;&#21644;P&#65292;V&#25805;&#20316;&#65292;&#24050;&#23454;&#29616;&#19978;&#38754;&#30340;&#20114;&#26021;&#21516;&#27493;&#12290;&#35201;&#27714;&#20889;&#20986;&#23436;&#25972;&#36807;&#31243;&#65292;&#35828;&#26126;&#20449;&#21495;&#37327;&#21547;&#20041;&#21644;&#36171;&#21021;&#20540;&#12290;</font></div><br><div class='ans'><div><font size=3>&#23450;&#20041;&#20004;&#20010;&#20449;&#21495;&#37327;&#65306;(5&#20998;)</font></div><div><font size=3> Semaphore empty=500&#65307; //&#21338;&#29289;&#39302;&#21487;&#20197;&#23481;&#32435;&#30340;&#26368;&#22810;&#20154;&#25968; </font></div><div><font size=3>Semaphore mutex=1&#65307; //&#29992;&#20110;&#20986;&#20837;&#21475;&#36164;&#28304;&#30340;&#25511;&#21046; </font></div><div><font size=3>cobegin </font></div><div><font size=3>&#21442;&#35266;&#32773;&#36827;&#31243;i&#65306; (13&#20998;)</font></div><div><font size=3>{ ... P(empty)&#65307; </font></div><div><font size=3>P(mutex)&#65307; </font></div><div><font size=3>&#36827;&#38376;&#65307; </font></div><div><font size=3>V(mutex)&#65307;</font></div><div><font size=3> &#21442;&#35266;&#65307;</font></div><div><font size=3> P(mutex)&#65307; </font></div><div><font size=3>&#20986;&#38376;&#65307; </font></div><div><font size=3>V(mutex)&#65307; </font></div><div><font size=3>V(empty)&#65307;</font></div><div><font size=3> ... }</font></div><div align=justify><font size=3> coend</font></div></div><div>5.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;5.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26377;&#22235;&#20010;&#36827;&#31243;S1&#12289;S2&#12289;S3&#21644;R1&#65292;&#20854;&#20013;S1&#12289;S2&#12289;S3&#21521;&#32531;&#20914;&#21306;BUFF&#21457;&#36865;&#28040;&#24687;&#65292;R1&#20174;&#32531;&#20914;&#21306;&#20013;&#25509;&#25910;&#28040;&#24687;&#12290;&#21457;&#36865;&#21644;&#25509;&#25910;&#30340;&#35268;&#21017;&#22914;&#19979;&#65306;</font></div><div><font size=3>(1) &#32531;&#20914;&#21306;BUFF&#20219;&#20309;&#26102;&#20505;&#21482;&#33021;&#23384;&#25918;&#30001;&#19981;&#21516;&#21457;&#36865;&#36827;&#31243;&#21457;&#36865;&#30340;3&#20010;&#28040;&#24687;&#65292;&#20854;&#20013;S1&#29992;BUFF1&#65292;S2&#29992;BUFF2&#65292;S3&#29992;BUFF3&#65307;</font></div><div><font size=3>(2) &#24403;&#32531;&#20914;&#21306;&#28385;&#21518;&#65292;R1&#25165;&#33021;&#21462;&#28040;&#24687;, S1&#12289;S2&#12289;S3&#27492;&#26102;&#19981;&#33021;&#21457;&#36865;&#65292;&#30452;&#21040;&#28040;&#24687;&#34987;&#21462;&#36208;&#65307;</font></div><div><font size=3>(3) 3&#20010;&#23384;&#25918;&#22312;&#32531;&#20914;&#21306;&#20013;&#30340;&#28040;&#24687;&#24517;&#39035;&#34987;R1&#19968;&#27425;&#25509;&#25910;&#65292;&#25509;&#25910;&#21518;&#25165;&#33021;&#28165;&#38500;&#12290;</font></div><div align=justify><font size=3>&#35831;&#29992;&#20449;&#21495;&#37327;&#26426;&#21046;&#26469;&#23454;&#29616;&#36825;4&#20010;&#36827;&#31243;&#38388;&#30340;&#21516;&#27493;&#12290;&#65288;&#20449;&#21495;&#37327;&#38598;&#65306;Swait&#65288;s,d,t&#65289;&#65292;&#20854;&#20013;d&#20026;&#27604;&#36739;&#30340;&#20540;&#65292;t&#20026;&#19968;&#27425;&#20943;&#25481;&#30340;&#25968;&#37327;&#65289;</font></div><br><div class='ans'><div><font size=3>&#20998;&#26512;&#65306;S1&#12289;S2&#12289;S3&#22312;&#32531;&#20914;&#21306;&#28385;&#26102;&#34987;&#38459;&#22622;&#65292;&#27492;&#26102;&#20026;&#38646;&#30340;&#26159;empty&#65292;&#21021;&#20540;&#20026;1&#65307;&#36824;&#26377;&#23601;&#26159;R1&#25509;&#21463;&#19968;&#20010;&#25110;&#32773;&#20004;&#20010;&#26102;&#65292;&#26159;&#19981;&#33021;&#21457;&#36865;&#30340;&#65292;&#24517;&#39035;&#31561;R1&#25509;&#21463;&#23436;&#20102;&#65292;&#25165;&#33021;&#21457;&#36865;&#65292;&#25442;&#35328;&#20043;&#65292;&#23601;&#26159;&#24517;&#39035;&#31561;&#19977;&#20010;&#25509;&#25910;&#21518;&#65292; &#20840;&#28385;&#20102;&#65292;R1&#25165;&#33021;&#21160;&#20316;&#65292;&#27492;&#26102;&#23545;&#24212;&#30340;&#27604;&#36739;&#30340;&#20540;&#24212;&#35813;&#26159;3&#65292;&#20943;&#30340;&#20540;&#24212;&#35813;&#20026;3&#65292;&#24212;&#35813;&#26159;&#20449;&#21495;&#37327;&#38598;&#12290;S1&#12289;S2&#12289;S3&#20889;&#25104;&#19968;&#20010;Si&#65292;&#20165;&#20165;&#22312;buffi&#22788;&#21644;emptyi&#22788;&#26377;&#19981;&#21516;&#12290;</font></div><div><font size=3>Parbegin</font></div><div><font size=3>Empty1&#65292;Empty 2&#65292;Empty 3&#65292;full,&#65306;semphaer &nbsp;:=1,1,1&#65292;0 &nbsp; &#65288;7&#20998;&#65289;</font></div><div><font size=3>Si&#65306;begin &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#65288;6&#20998;&#65289;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;repeat</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Wait(emptyi);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Place &nbsp;an message in &nbsp;a buffi;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> Singal(full);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Until &nbsp;False</font></div><div><font size=3> &nbsp; &nbsp;End</font></div><div><font size=3><br></font></div><div><font size=3> R1&#65306;begin &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#65288;7&#20998;&#65289;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;reapt</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;SWait(full&#65292;3,3)&#65307;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3>&#21462;&#36208;&#19977;&#20010;&#28040;&#24687;&#65307;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;SSingal(empty1&#65292;1&#65307;empty2,1&#65307;empty3,1)&#65307;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Process the buffers;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Until false</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End &nbsp;</font></div><div align=justify><font size=3>parend</font></div></div><div>6.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;6.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26377;&#22235;&#20010;&#36827;&#31243;S1&#12289;S2&#12289;R1&#21644;R2&#65292;&#20854;&#20013;S1&#12289;S2&#21521;&#32531;&#20914;&#21306;BUFF&#21457;&#36865;&#28040;&#24687;&#65292;R1&#21644;R2&#20174;&#32531;&#20914;&#21306;&#20013;&#25509;&#25910;&#28040;&#24687;&#12290;&#21457;&#36865;&#21644;&#25509;&#25910;&#30340;&#35268;&#21017;&#22914;&#19979;&#65306;</font></div><div><font size=3>(1) &#32531;&#20914;&#21306;BUFF&#20219;&#20309;&#26102;&#20505;&#21482;&#33021;&#23384;&#25918;2&#20010;&#28040;&#24687;&#65307;</font></div><div><font size=3>(2) R1&#12289;R2&#27599;&#27425;&#21516;&#26102;&#21462;S1&#21644;S2&#23384;&#25918;&#22312;&#32531;&#20914;&#21306;&#20013;&#30340;&#28040;&#24687;&#65307;</font></div><div><font size=3>(3)&#27599;&#20010;&#23384;&#25918;&#22312;&#32531;&#20914;&#21306;&#20013;&#30340;&#28040;&#24687;&#24517;&#39035;&#34987;R1&#21644;R2&#22343;&#25509;&#25910;&#21518;&#25165;&#33021;&#28165;&#38500;&#65307;</font></div><div align=justify><font size=3>(4)&#32531;&#20914;&#21306;BUFF&#19981;&#33021;&#21516;&#26102;&#23384;&#25918;2&#20010;S1&#30340;&#28040;&#24687;&#25110;2&#20010;S2&#30340;&#28040;&#24687;&#12290; &#35831;&#29992;&#20449;&#21495;&#37327;&#26426;&#21046;&#26469;&#23454;&#29616;&#36825;4&#20010;&#36827;&#31243;&#38388;&#30340;&#21516;&#27493;</font></div><br><div class='ans'><div><font size=3>//&#29992;&#20266;&#20195;&#30721;&#23454;&#29616;</font></div><div><font size=3>//&#39318;&#20808;&#35774;&#32622;Empty&#20449;&#21495;&#37327;&#65292;&#20070;&#20110;s1&#12289;S2&#36827;&#31243;&#21028;&#26029;&#26159;&#21542;&#21487;&#20197;&#21457;&#36865;&#28040;&#24687;/&#28982;&#21518;&#35774;&#32622;fULL&#20449;&#21495;&#37327;&#65292;&#29992;&#20110;R1&#12289;R2&#36827;&#31243;&#21028;&#26029;&#26159;&#21542;&#21487;&#20197;&#25509;&#25910;&#28040;&#24687; </font></div><div><font size=3>Emptys1R1=Emptys1R2=EmptyS2R1=EmptyS2R2=1; Fulls1R1=Fulls1R2=FullS2R1=FullS2R2=0&#65307;</font></div><div><font size=3>Process(S1){</font></div><div><font size=3>while(1){</font></div><div><font size=3>P(EmptyS1R1);//&#21028;&#26029;1&#21457;&#36865;&#32473;R1&#30340;&#28040;&#24687;&#26159;&#21542;&#34987;R1&#25509;&#25910; P(EmptyS1R2);//&#21028;&#26029;s1&#21457;&#36865;&#32473;R2&#30340;&#28040;&#24687;&#26159;&#21542;&#34987;R2&#25509;&#25910; SetMessage();</font></div><div><font size=3>V(FullS1R1);//&#25552;1&#25509;&#25910;&#28040;&#24687; V(FullS1R2);//&#25552;&#37266;2&#25509;&#25910;&#28040;&#24687;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; }</font></div><div><font size=3>}</font></div><div><font size=3>Process(S2){</font></div><div><font size=3>while(1){</font></div><div><font size=3>P(EmptyS2R1);//&#21028;&#26029;s2&#21457;&#36865;&#32473;R1&#30340;&#28040;&#24687;&#26159;&#21542;&#34987;R1&#25509;&#25910; </font></div><div><font size=3>P(EmptyS2R2);//&#21028;&#26029;2&#21457;&#36865;&#32473;R2&#30340;&#28040;&#24687;&#26159;&#21542;&#34987;R2&#25509;&#25910; </font></div><div><font size=3>SetMessage();</font></div><div><font size=3>V(Ful1S2R1);//&#25552;1&#25509;&#25910;&#28040;&#24687; </font></div><div><font size=3>V(FullS2R2);//&#25552;&#37266;2&#25509;&#25910;&#28040;&#24687;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; }</font></div><div><font size=3>}</font></div><div><font size=3><br></font></div><div><font size=3><br></font></div><div><font size=3>Process(R1){</font></div><div><font size=3>while(1){</font></div><div><font size=3>P(FullS1R1);//&#21028;&#26029;s1&#26159;&#21542;&#21457;&#36865;&#32473;R1&#30340;&#28040;&#24687; </font></div><div><font size=3>P(FullS2R1);//&#21028;&#26029;s2&#26159;&#21542;&#21457;&#36865;&#32473;R1&#30340;&#28040;&#24687; ReciveMessage();</font></div><div><font size=3>V(EmptyS1R1);//&#25552;&#37239;1&#21457;&#36865;&#28040;&#24687; </font></div><div><font size=3>V(EmptyS2R1);//&#25552;&#37266;52&#21457;&#36865;&#28040;&#24687;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; }</font></div><div><font size=3>}</font></div><div><font size=3><br></font></div><div><font size=3>Process(R2){</font></div><div><font size=3>while(1){</font></div><div><font size=3>P(FullS1R2);//&#21028;&#26029;s1&#26159;&#21542;&#21457;&#36865;&#32473;R2&#30340;&#28040;&#24687; </font></div><div><font size=3>P(FullS2R2);//&#21028;&#26029;s2&#26159;&#21542;&#21457;&#36865;&#32473;R2&#30340;&#28040;&#24687; ReciveMessage();</font></div><div><font size=3>V(EmptyS1R2);//&#25552;&#37239;1&#21457;&#36865;&#28040;&#24687; </font></div><div><font size=3>V(EmptyS2R2);//&#25552;&#37239;2&#21457;&#36865;&#28040;&#24687;//&#29992;&#20266;&#20195;&#30721;&#23454;&#29616;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; }</font></div><div align=justify><font size=3>}</font></div></div><div>7.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;7.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26377;&#22235;&#20010;&#24182;&#21457;&#36827;&#31243;&#65306;R1&#65292;R2&#65292;W1&#21644;W2&#65292;&#23427;&#20204;&#20849;&#20139;&#21487;&#20197;&#23384;&#25918;&#19968;&#20010;&#25968;&#30340;&#32531;&#20914;&#21306;&#12290;&#36827;&#31243;R1&#27599;&#27425;&#20174;&#30913;&#30424;&#35835;&#20837;&#19968;&#20010;&#25968;&#23384;&#25918;&#21040;&#32531;&#20914;&#21306;&#20013;&#65292;&#20379;&#36827;&#31243;W1&#25171;&#21360;&#36755;&#20986;&#65307;&#36827;&#31243;R2&#27599;&#27425;&#20174;&#38190;&#30424;&#35835;&#19968;&#20010;&#25968;&#23384;&#25918;&#21040;&#32531;&#20914;&#21306;&#20013;&#65292;&#20379;&#36827;&#31243;W2&#25171;&#21360;&#36755;&#20986;&#12290;&#24403;&#32531;&#20914;&#21306;&#28385;&#26102;&#65292;&#19981;&#20801;&#35768;&#20877;&#21521;&#32531;&#20914;&#21306;&#20013;&#23384;&#25918;&#25968;&#25454;&#65307;&#24403;&#32531;&#20914;&#21306;&#31354;&#26102;&#65292;&#19981;&#20801;&#35768;&#20877;&#20174;&#32531;&#20914;&#21306;&#20013;&#21462;&#20986;&#25968;&#25454;&#25171;&#21360;&#36755;&#20986;&#12290;&#35797;&#29992;PV&#25805;&#20316;&#23454;&#29616;&#22235;&#20010;&#36827;&#31243;&#30340;&#21327;&#35843;&#36816;&#34892;&#12290;</font></div><br><div class='ans'><div><font size=3>Parbegin</font></div><div><font size=3>empty,D1,D2&#65306;semphaer:=1,0,0; &nbsp; &nbsp;</font></div><div><font size=3> R1&#65307;begin</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;repeat</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Wait(empty);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Place &nbsp;an D1;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3> Singal(D1);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Until false;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; End &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></div><div><font size=3>R2&#65307;begin</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;repeat</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Wait(empty);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Place &nbsp;an D2;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Singal(D2);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Until false;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; End &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></div><div><font size=3><br></font></div><div><font size=3>W1: begin</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;reapt</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Wait(D1);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Singal(empty);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; print D1;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Until false</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;End &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></div><div><font size=3>W2: begin</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;reapt</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Wait(D2);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;Singal(empty);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; print D2;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; Until false &nbsp;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;End &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </font></div><div><font size=3>parend</font></div></div><div>8.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;8.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3>&#26377;&#19968;&#20010;&#25945;&#23460;&#65292;&#21482;&#26377;&#19968;&#20010;&#25945;&#24072;&#65292;&#26377;30&#24352;&#21487;&#20379;&#23398;&#29983;&#31561;&#24453;&#31572;&#30097;&#30340;&#26885;&#23376;&#65292;&#22914;&#26524;&#27809;&#26377;&#23398;&#29983;&#65292;&#21017;&#25945;&#24072;&#30561;&#35273;&#65307;&#22914;&#26524;&#26377;&#19968;&#23398;&#29983;&#36827;&#20837;&#25945;&#23460;&#21457;&#29616;&#25945;&#24072;&#30561;&#35273;&#65292;&#21017;&#25226;&#20182;&#21483;&#37266;&#65292;&#25945;&#24072;&#31572;&#30097;&#26102;&#65292;&#23398;&#29983;&#36827;&#26469;&#21518;&#35201;&#20040;&#22352;&#19979;&#31561;&#24453;&#65288;&#26377;&#31354;&#20301;&#30340;&#24773;&#20917;&#65289;&#65292;&#35201;&#20040;&#31163;&#24320;&#65288;&#27809;&#26377;&#31354;&#20301;&#30340;&#24773;&#20917;&#65289;&#12290;&#23450;&#20041;&#20449;&#21495;&#37327;&#65292;&#20889;&#20986;&#20449;&#21495;&#37327;&#30340;&#21021;&#20540;&#20197;&#21450;&#20449;&#21495;&#37327;&#21508;&#31181;&#21462;&#20540;&#21547;&#20041;&#12290;&#26681;&#25454;&#25152;&#23450;&#20041;&#30340;&#20449;&#21495;&#37327;&#65292;&#35831;&#29992;P&#12289;V&#25805;&#20316;&#23454;&#29616;&#25945;&#24072;&#36827;&#31243;&#21644;&#23398;&#29983;&#36827;&#31243;&#30340;&#21516;&#27493;&#31639;&#27861;&#12290;</font></div><br><div class='ans'><div><font size=3>Perbegin:</font></div><div><font size=3> &nbsp;Mutex,chairnum,stunum:semphere:=1,30,0; &nbsp; &#65288;3&#20998;&#65289;</font></div><div><font size=3><br></font></div><div><font size=3> &nbsp;Teacher :begin</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Repeat</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Wait(stunum);</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3>&#35762;&#39064;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;until &nbsp;&#19979;&#29677;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; End</font></div><div><font size=3>&#65288;5&#20998;&#65289;</font></div><div><font size=3>Student: &nbsp;begin:</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Wait(chairnum)</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;singal(stunum)</font></div><div><font size=3><br></font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Wait(Mutex)</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;singal(chairnum)</font></div><div><font size=3><br></font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp;</font><font size=3>&#21548;&#35762;&#39064;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#31163;&#24320;</font></div><div><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Singal&#65288;Mutex&#65289;</font></div><div align=justify><font size=3> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;End</font></div></div><div>9.<font size=3>&#35831;&#23558;&#31572;&#39064;&#20869;&#23481;&#20445;&#23384;&#33267;&#32771;&#29983;&#25991;&#20214;&#22841;%testdir%&#19979;&#30340;&#8220;&#32534;&#31243;&#39064;9.TXT&#8221;&#25991;&#26723;&#20013;&#12290;</font></div><div><font size=3><br></font></div><div align=justify><font size=3 color="#333333">&#26700;&#23376;&#19978;&#26377;&#19968;&#20010;&#30424;&#23376;&#65292;&#27599;&#27425;&#21482;&#33021;&#21521;&#20854;&#20013;&#25918;&#20837;&#19968;&#20010;&#27700;&#26524;&#12290;&#29240;&#29240;&#19987;&#21521;&#30424;&#20013;&#25918;&#33529;&#26524;&#65292;&#22920;&#22920;&#19987;&#21521;&#30424;&#23376;&#20013;&#25918;&#27224;&#23376;&#65292;&#20799;&#23376;&#19987;&#38376;&#21507;&#30424;&#23376;&#20013;&#30340;&#27224;&#23376;&#65292;&#22899;&#20799;&#19987;&#38376;&#31561;&#30424;&#23376;&#20013;&#30340;&#33529;&#26524;&#12290;&#21482;&#26377;&#24403;&#30424;&#23376;&#20026;&#31354;&#26102;&#65292;&#29240;&#29240;&#25110;&#22920;&#22920;&#25165;&#21521;&#30424;&#23376;&#20013;&#25918;&#19968;&#20010;&#27700;&#26524;&#65292;&#20165;&#24403;&#30424;&#23376;&#20013;&#26377;&#33258;&#24049;&#38656;&#35201;&#30340;&#27700;&#26524;&#26102;&#65292;&#20799;&#23376;&#25110;&#32773;&#22899;&#20799;&#21487;&#20197;&#20174;&#30424;&#23376;&#20013;&#21462;&#20986;&#12290;</font></div><br><div class='ans'><div align=justify><font size=3 color="#333333">Semaphore mutx=1,apple =0,orange=0;(3&#20998;)</font></div><div><table width=489 border=0 cellpadding=4 cellspacing=-1 bordercolor="#000000"><tr valign=top><td width=248 height=139 valign=top><font size=3 color="#000000" face="����"><div align=justify><font size=3 color="#333333">dad(){//&#29238;&#20146;&#36827;&#31243;</font></div><div align=justify><font size=3 color="#333333">while(1){</font></div><div align=justify><font size=3 color="#333333">P(mutx);//&#31561;&#24453;&#25918;&#27700;&#26524;</font></div><div align=justify><font size=3 color="#333333">&#21521;&#30424;&#20013;&#25918;&#33529;&#26524;&#65307;</font></div><div align=justify><font size=3 color="#333333">V(apple);//&#20801;&#35768;&#21462;&#33529;&#26524;</font></div><div align=justify><font size=3 color="#333333">}</font></div><div align=justify><font size=3 color="#333333">}</font></div></font></td><td width=213 height=139 valign=top><font size=3 color="#000000" face="����"><div align=justify><font size=3 color="#333333">mom(){//&#27597;&#20146;&#36827;&#31243;</font></div><div align=justify><font size=3 color="#333333">while(1){</font></div><div align=justify><font size=3 color="#333333">P(mutx);//&#31561;&#24453;&#25918;&#27224;&#23376;</font></div><div align=justify><font size=3 color="#333333">&#21521;&#30424;&#20013;&#25918;&#27224;&#23376;&#65307;</font></div><div align=justify><font size=3 color="#333333">V(orange);</font></div><div align=justify><font size=3 color="#333333">}</font></div><div align=justify><font size=3 color="#333333">}</font></div></font></td></tr><tr valign=top><td width=248 height=173 valign=top><font size=3 color="#000000" face="����"><div align=justify><font size=3 color="#333333">son(){</font></div><div align=justify><font size=3 color="#333333">while(1){</font></div><div align=justify><font size=3 color="#333333">P(orange)//&#31561;&#24453;&#30424;&#20013;&#30340;&#27224;&#23376;</font></div><div align=justify><font size=3 color="#333333">&#25343;&#36208;&#19968;&#20010;&#27224;&#23376;&#65307;</font></div><div align=justify><font size=3 color="#333333">V(mutx);//&#20801;&#35768;&#30424;&#23376;&#37324;&#38754;&#25918;&#27700;&#26524;</font></div><div align=justify><font size=3 color="#333333">}</font></div><div align=justify><font size=3 color="#333333">}</font></div></font></td><td width=213 height=173 valign=top><font size=3 color="#000000" face="����"><div align=justify><font size=3 color="#333333">daughter(){</font></div><div align=justify><font size=3 color="#333333">while(1){</font></div><div align=justify><font size=3 color="#333333">P(apple);</font></div><div align=justify><font size=3 color="#333333">&#25343;&#36208;&#19968;&#20010;&#33529;&#26524;&#65307;</font></div><div align=justify><font size=3 color="#333333">V(mutx);</font></div><div align=justify><font size=3 color="#333333">}</font></div><div align=justify><font size=3 color="#333333">}</font></div></font></td></tr></table></div><div align=justify><font size=3 color="#333333">&#27599;&#20010;&#20989;&#25968;4&#20998;</font></div></div></body></html>